# 用户考核管理系统

这是一个基于 React + TypeScript + Material-UI 开发的用户考核管理系统，从微信小程序迁移而来。

## 功能特性

### 1. 考核列表页面
- 支持按状态筛选（未开始、通过、未通过、已过期）
- 支持搜索考核计划名称
- 显示考核详细信息（考试时间、时长、题目数、满分、及格分等）
- 根据考核状态显示不同的操作按钮

### 2. 考试页面
- **随机生成试卷**：每次进入考试都会从题库中随机生成新的题目
- **多种题型支持**：
  - 单选题
  - 多选题
  - 判断题
- **计时功能**：倒计时显示，时间到自动提交
- **答案保存**：答案实时保存到 localStorage，防止意外丢失
- **答题卡**：可以查看所有题目的答题状态
- **提交确认**：提交前显示未答题数量，确认后提交

### 3. 结果页面
- **成绩展示**：显示得分、正确率、用时等统计信息
- **答题卡可视化**：用不同颜色标识答对、答错、未答的题目
- **错题查看**：可以查看所有错题
- **题目解析**：点击答题卡可以查看题目解析

## 技术栈

- **React 19** - UI 框架
- **TypeScript** - 类型安全
- **Material-UI (MUI)** - UI 组件库
- **React Router** - 路由管理
- **localStorage** - 本地存储

## 文件结构

```
userful-question-and-answer/
├── types.ts              # TypeScript 类型定义
├── mockData.ts           # Mock 数据服务（支持随机生成试卷）
├── AssessmentList.tsx   # 考核列表页面
├── AssessmentExam.tsx   # 考试页面
├── AssessmentResult.tsx # 结果页面
└── README.md            # 说明文档
```

## Mock 数据说明

### 随机生成试卷
- 每次调用 `getQuestions()` 都会从题库中随机选择题目
- 题目顺序随机打乱
- 确保每次考试都是不同的试卷

### 数据存储
- 答案保存在 `localStorage` 中，key 格式：`answers_{assessmentId}`
- 考核结果保存在 `localStorage` 中，key 格式：`result_{assessmentId}`

## 使用说明

### 在 react-preview-page 中使用

1. 文件已复制到 `src/assessment/` 目录
2. 路由已配置：
   - `/assessment` - 考核列表
   - `/assessment/exam/:id` - 考试页面
   - `/assessment/result/:id` - 结果页面
3. 导航菜单已添加"用户考核管理"入口

### 开发

```bash
cd react-preview-page
npm install
npm run dev
```

### 构建部署

```bash
npm run build
```

## 功能演示流程

1. **查看考核列表**
   - 访问 `/assessment` 查看所有考核
   - 可以切换不同状态的标签页
   - 可以搜索考核名称

2. **开始考试**
   - 点击"未开始"状态的考核
   - 进入考试页面，系统随机生成试卷
   - 答题过程中答案自动保存
   - 可以前后切换题目
   - 提交前会显示未答题数量

3. **查看结果**
   - 提交后自动跳转到结果页面
   - 查看成绩、正确率、用时等统计
   - 查看答题卡，了解每题的答题情况
   - 可以查看错题和题目解析

## 注意事项

1. **随机生成**：每次进入考试都会生成新的随机试卷，之前的答案不会保留
2. **时间限制**：考试有倒计时，时间到会自动提交
3. **答案保存**：答案保存在浏览器 localStorage 中，清除浏览器数据会丢失
4. **Mock 数据**：当前使用 Mock 数据，实际部署时需要替换为真实 API

## 后续优化建议

1. 添加答题卡页面，可以快速跳转到指定题目
2. 添加错题本功能，记录所有错题
3. 添加题目解析页面，详细展示题目和解析
4. 添加考试历史记录
5. 添加证书查看功能
6. 替换 Mock 数据为真实 API 接口
